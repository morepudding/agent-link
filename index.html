<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LINK_AGENT_v2.04</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#f3e600">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@300;500;700&display=swap"
        rel="stylesheet">
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js');
            });
        }
    </script>
</head>

<body class="cyber-theme">
    <div class="crt-overlay"></div>
    <div class="scanlines"></div>

    <header class="app-header">
        <div class="vitals">
            <div class="vital-item pulse">
                <span class="label">HEART_RATE:</span>
                <span class="value" id="heart-rate">72</span> BPM
            </div>
            <div class="vital-item">
                <span class="label">SYNCH_LEVEL:</span>
                <span class="value">98.2%</span>
            </div>
        </div>
        <div class="system-status">
            <div class="glitch-text" data-text="LINK_AGENT_v2.04">LINK_AGENT_v2.04</div>
            <div class="connection-status online">CONNECTED_DP</div>
        </div>
    </header>

    <main id="app-content">
        <!-- Views will be injected here -->
        <section id="view-dashboard" class="view active">
            <div class="news-ticker">
                <div class="ticker-label">DATA_FEED:</div>
                <div class="ticker-content">
                    <div class="ticker-text">BIOTECHNICA: NO_NEW_LEADS_FOUND // SEARCHING_RECORDS... // DOGFIGHTS:
                        SOUTH_ZONE_8PM // </div>
                </div>
            </div>

            <div class="dashboard-grid">
                <button class="dash-card glitch-hover" onclick="switchView('data-pool')">
                    <div class="card-icon">üì°</div>
                    <div class="card-label">DATA_POOL</div>
                </button>
                <button class="dash-card glitch-hover" onclick="switchView('stats')">
                    <div class="card-icon">üë§</div>
                    <div class="card-label">STATS</div>
                    <small>BIO_MONITOR</small>
                </button>
                <button class="dash-card glitch-hover" onclick="switchView('network')">
                    <div class="card-icon">ü§ù</div>
                    <div class="card-label">NETWORK</div>
                    <small>FIXER_CONTACTS</small>
                </button>
                <button class="dash-card glitch-hover" onclick="switchView('inventory')">
                    <div class="card-icon">üì¶</div>
                    <div class="card-label">INVENTORY</div>
                    <small>EQUIPMENT</small>
                </button>
            </div>

            <div class="quick-actions glitch-border"
                style="margin-top: 20px; padding: 10px; background: rgba(0,0,0,0.3);">
                <h3 class="small-title">QUICK_ACTIONS (FNF)</h3>
                <div class="skills-list" style="font-size: 0.7rem;">
                    <div class="skill-item"><span>ATTAQUE / TIR</span><strong>1 Action</strong></div>
                    <div class="skill-item"><span>RECHARGER</span><strong>1 Action</strong></div>
                    <div class="skill-item"><span>STABILISER (Soin)</span><strong>1 Action</strong></div>
                    <div class="skill-item"><span>SE RELEVER (Prone)</span><strong>1 Action</strong></div>
                    <div class="skill-item"><span>SAISIR (Grab)</span><strong>1 Action</strong></div>
                </div>
            </div>
        </section>

        <section id="view-sister" class="view">
            <h2 class="section-title glitch-text" data-text="DOSSIER: SISTER_UNKNOWN">DOSSIER: SISTER_UNKNOWN</h2>
            <div class="sister-hunt-container">
                <div class="hunt-item">
                    <div class="item-meta">TARGET_LAST_SEEN: 1_YEAR_AGO</div>
                    <p>La trag√©die familiale s'est d√©roul√©e il y a 12 mois. Aucun contact visuel confirm√© depuis.</p>
                </div>
                <div class="hunt-item glitch-border">
                    <div class="item-meta">BIOTECHNICA_LEAK: #4421-X</div>
                    <p>Des rumeurs indiquent qu'elle a √©t√© aper√ßue pr√®s d'un centre de recherche biotechnologique dans
                        les Badlands.</p>
                </div>
                <div class="search-progress">
                    <div class="bar-label">ARCHIVE_DECRYPTION_PROGRESS: 12%</div>
                    <div class="bar-outer">
                        <div class="bar-inner sp" style="width: 12%;"></div>
                    </div>
                </div>
            </div>
            <button class="back-btn" onclick="switchView('dashboard')">BACK_TO_HOME</button>
        </section>

        <section id="view-network" class="view">
            <h2 class="section-title">STREET_NETWORK</h2>
            <div class="network-search">
                <input type="text" id="network-search-input" placeholder="SEARCH_CONTACTS..." oninput="searchNetwork()">
            </div>
            <div id="network-list" class="feed-list">
                <!-- Contacts will appear here -->
            </div>
            <button class="back-btn" onclick="switchView('dashboard')">BACK_TO_HOME</button>
        </section>

        <section id="view-stats" class="view">
            <h2 class="section-title">LINK_STATUS</h2>

            <div class="stats-container">
                <div class="vital-bar-container">
                    <div class="bar-label">HEALTH_POINTS (<span id="hp-val">40</span>/40)</div>
                    <div class="bar-outer">
                        <div id="hp-bar" class="bar-inner hp" style="width: 100%;"></div>
                    </div>
                </div>

                <div class="vital-bar-container">
                    <div class="bar-label">ARMOR_JACK (<span id="sp-val">11</span>/11)</div>
                    <div class="bar-outer">
                        <div id="sp-bar" class="bar-inner sp" style="width: 100%;"></div>
                    </div>
                    <button class="small-btn" onclick="ablateArmor()">ABLATE_ARMOR (-1)</button>
                </div>

                <div class="vital-bar-container">
                    <div class="bar-label">HUMANITY (<span id="hum-val">40</span>/40)</div>
                    <div class="bar-outer">
                        <div id="hum-bar" class="bar-inner humanity"
                            style="width: 100%; background: var(--cyber-pink);"></div>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-box"><span>INT</span><strong>8</strong></div>
                    <div class="stat-box"><span>REF</span><strong>6</strong></div>
                    <div class="stat-box"><span>DEX</span><strong>6</strong></div>
                    <div class="stat-box"><span>TECH</span><strong>5</strong></div>
                    <div class="stat-box"><span>PRES</span><strong>7</strong></div>
                    <div class="stat-box"><span>VOL</span><strong>5</strong></div>
                    <div class="stat-box"><span>LUCK</span><strong id="luck-val">6</strong></div>
                    <div class="stat-box"><span>EMP</span><strong>8</strong></div>
                </div>

                <div class="skills-list">
                    <div class="skill-item"><span>TRADING (N√©goce)</span><strong>+14</strong></div>
                    <div class="skill-item"><span>PERSUASION</span><strong>+13</strong></div>
                    <div class="skill-item"><span>HUMAN_PERCEPTION</span><strong>+13</strong></div>
                    <div class="skill-item"><span>GAMBLING</span><strong>+14</strong></div>
                </div>

                <h3 class="small-title">WEAPONS_SYSTEMS</h3>
                <div id="weapons-list" class="skills-list">
                    <!-- Weapons injected here -->
                </div>

                <h3 class="small-title">CYBERWARE_CONSTRUCT</h3>
                <div id="cyberware-list" class="skills-list">
                    <!-- Cyberware injected here -->
                </div>

                <div class="danger-zone">
                    <button class="cyber-btn" onclick="takeDamage(5)">TAKE_5_DMG</button>
                    <button class="cyber-btn" onclick="resetVitals()"
                        style="background: var(--cyber-blue); margin-top: 10px;">LONG_REST (Reset)</button>
                </div>
            </div>
            <button class="back-btn" onclick="switchView('dashboard')">BACK_TO_HOME</button>
        </section>

        <section id="view-dataterm" class="view">
            <h2 class="section-title">NIGHT_CITY_DATATERM</h2>
            <div class="wiki-search">
                <input type="text" id="wiki-search-input" placeholder="SEARCH_LORE..." oninput="searchWiki()">
            </div>
            <div class="wiki-categories">
                <button onclick="filterWiki('slang')">SLANG</button>
                <button onclick="filterWiki('rules')">RULES</button>
                <button onclick="filterWiki('lore')">LORE</button>
                <button onclick="filterWiki('biotechnica')">BIOTECHNICA</button>
            </div>
            <div id="wiki-content" class="feed-list">
                <!-- Wiki items will appear here -->
            </div>
            <button class="back-btn" onclick="switchView('dashboard')">BACK_TO_HOME</button>
        </section>

        <section id="view-data-pool" class="view">
            <h2 class="section-title">NIGHT_CITY_DATA_POOL</h2>
            <div id="news-feed" class="feed-list">
                <!-- Data Pool items -->
            </div>
            <button class="back-btn" onclick="switchView('dashboard')">BACK_TO_HOME</button>
        </section>

        <section id="view-wallet" class="view">
            <h2 class="section-title">WALLET_MANAGER</h2>
            <div class="balance-container">
                <span class="label">AVAILABLE_ED:</span>
                <span class="value" id="ed-balance">1,240.00</span>
            </div>

            <div class="betting-interface">
                <h3>SOUTH_ZONE_DOGFIGHTS</h3>
                <div class="bet-controls">
                    <input type="number" id="bet-amount" placeholder="BET_AMOUNT" min="10">
                    <button class="cyber-btn" onclick="placeBet()">PLACE_BET</button>
                </div>
                <div id="bet-status"></div>
            </div>

            <div class="deal-logger glitch-border" style="margin: 20px 0; padding: 10px;">
                <h3 class="small-title">LOG_NEW_DEAL</h3>
                <div class="deal-form">
                    <input type="text" id="deal-client" placeholder="CLIENT_NAME">
                    <input type="text" id="deal-item" placeholder="ITEM_SOLD">
                    <input type="number" id="deal-price" placeholder="PRICE_EB">
                    <input type="number" id="deal-comm" placeholder="COMMISSION_%">
                    <button class="cyber-btn" onclick="logDeal()"
                        style="width:100%; margin-top:10px;">LOG_TRANSACTION</button>
                </div>
            </div>

            <div class="transaction-history">
                <h3 class="small-title">TRANSACTION_LOG</h3>
                <div id="transaction-list" class="feed-list">
                    <!-- Transactions will appear here -->
                </div>
            </div>

            <div class="deals-history">
                <h3 class="small-title">DEALS_LEDGER</h3>
                <div id="deals-log-list" class="feed-list">
                    <!-- Deals will appear here -->
                </div>
            </div>
            <button class="back-btn" onclick="switchView('dashboard')">BACK_TO_HOME</button>
        </section>

        <section id="view-inventory" class="view">
            <h2 class="section-title">EQUIPMENT_MANIFEST</h2>

            <div class="load-capacity glitch-border" style="margin-bottom: 20px; padding: 10px;">
                <div class="bar-label">CARRY_LOAD: <span id="load-label">0 / 60 KG</span></div>
                <div class="bar-outer">
                    <div id="load-bar" class="bar-inner" style="width: 0%;"></div>
                </div>
            </div>

            <div id="inventory-grid" class="inventory-grid">
                <!-- Inventory items injected here -->
            </div>

            <button class="back-btn" onclick="switchView('dashboard')">BACK_TO_HOME</button>
        </section>

        <section id="view-map" class="view">
            <h2 class="section-title">NIGHT_CITY_MAP_v1.0</h2>
            <div class="map-container glitch-border"
                style="background: rgba(0,0,0,0.5); padding: 15px; min-height: 200px;">
                <p style="color: var(--cyber-blue); font-family: 'Rajdhani', sans-serif;">[LOCALIZING_USER_AGENT...]</p>
                <p><strong>POSITION:</strong> HEYWOOD - THE GLEN</p>
                <hr style="border: 0.5px solid var(--cyber-blue); margin: 10px 0;">
                <p>Consultez le document de r√©f√©rence pour les d√©tails des secteurs :</p>
                <a href="NIGHT_CITY_MAP.md" target="_blank" class="cyber-btn"
                    style="display:inline-block; text-decoration:none; text-align:center;">OPEN_DETAILED_MAP_DOC</a>

                <div class="map-sectors" style="margin-top: 15px;">
                    <div class="wiki-item">
                        <h3>Heywood</h3>
                        <p>Status: SAFE_ZONE (mostly)</p>
                    </div>
                    <div class="wiki-item">
                        <h3>Watson</h3>
                        <p>Status: GANG_ACTIVITY_HIGH</p>
                    </div>
                    <div class="wiki-item">
                        <h3>Pacifica</h3>
                        <p>Status: EXTREME_DANGER</p>
                    </div>
                </div>
            </div>
            <button class="back-btn" onclick="switchView('dashboard')">BACK_TO_HOME</button>
        </section>

        <section id="view-carnet" class="view">
            <h2 class="section-title">LINK_CARNET</h2>
            <div class="carnet-actions">
                <textarea id="note-input" placeholder="RECORD_THOUGHTS..."></textarea>
                <button class="cyber-btn" onclick="addNote()">SAVE_ENTRY</button>
            </div>
            <div id="notes-list" class="feed-list">
                <!-- Notes will appear here -->
            </div>
            <button class="back-btn" onclick="switchView('dashboard')">BACK_TO_HOME</button>
        </section>
    </main>

    <footer class="app-nav">
        <button onclick="switchView('dataterm')">WIKI</button>
        <button onclick="switchView('network')">NET</button>
        <button onclick="switchView('dashboard')" class="active">HOME</button>
        <button onclick="switchView('wallet')">WALLET</button>
        <button onclick="switchView('inventory')">INV</button>
        <button onclick="switchView('stats')">STATS</button>
    </footer>

    <script src="app.js"></script>
</body>

</html>